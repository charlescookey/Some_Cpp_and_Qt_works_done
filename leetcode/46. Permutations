class Solution {
public:
    vector<vector<int>> permute(vector<int>& nums) {
        recurse(nums); 
        return ans_v; 
    }
    
    set<vector<int>> ans{};
    vector<vector<int>> ans_v{};
    
    void recurse(vector<int>curr){
        if(ans.count(curr)>0)return;
        ans.insert(curr);
        ans_v.push_back(curr);
        
        for(int i = 1  ;  i < curr.size() ; i++){
            vector<int> temp = curr;
            if(i != 0)std::swap(temp[0] , temp[i]);
            recurse(temp);            
        }
    }
};
